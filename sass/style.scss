@import "base/_reset";
@import "base/_mixin";
@import "base/setting";

$w_pc: 1366;
$w_sp: 375;

@import "layouts/header";

.kv {
    position: relative;
    height: get_vw(750, $w_pc);
    background: linear-gradient(to bottom, white 28%, $color_gray_bg 28%, $color_gray_bg 100%);

    &__img {
        position: absolute;
        top: 0;
        right: 0;
        width: get_vw(1067, $w_pc);
        z-index: 2;
    }
    &__text {
        position: absolute;
        top: get_vw(280, $w_pc);
        left: get_vw(113, $w_pc);
        z-index: 3;
    }
    &__title {
        width: get_vw(840, $w_pc);
    }
    &__subtitle {
        font-family: YuGothic;
        font-weight: bold;
        font-size: calc_fz(21, $w_pc);
        letter-spacing: 0.05em;
        line-height: calc(32 / 21);
        color: $color_gray;
        margin-top: get_vw(44, $w_pc);
        margin-left: get_vw(30, $w_pc);
    }
    .scroll {
        width: get_vw(8.23, $w_pc);
        height: get_vw(263.64, $w_pc);
        position: absolute;
        left: get_vw(41.8, $w_pc);
        top: get_vw(486, $w_pc);
    }
}
.sec {
    width: get_vw(1223, $w_pc);
}
.btn-more {
    display: flex;
    align-items: center;

    span {
        width: get_vw(90, $w_pc);
        height: get_vw(90, $w_pc);
        border: solid 1px $color_gray;
        border-radius: 50%;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;

        &::before {
            content: "";
            display: block;
            width: get_vw(12.4, $w_pc);
            height: get_vw(8.3, $w_pc);
            background: url("../img/icon_arrow.svg") no-repeat;
            background-size: contain;
            transition: all 0.3s ease-in-out;
        }
        &::after {
            background: rgba($color_gray, 0.2);
            border-radius: 50%;
            content: "";
            display: block;
            margin: auto;
            opacity: 0;
            pointer-events: none;
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            width: 100%;
            padding-top: 100%;
            height: 0;
            z-index: -1;
            transform: translateY(-50%) scale(0.1);
            transition: opacity 0.5s, transform 0s;
            transition-delay: 0s, 0.4s;
        }
        &:hover {
            &::before {
                transform: scale(1.8);
                transition: all 0.6s ease-in-out;
            }
            &::after {
                opacity: 1;
                transform: translateY(-50%) scale(1);
                transition-delay: 0s;
                transition: opacity 0.8s, transform 0.6s ease-in-out;
            }
        }
    }
}
.imgTxt {
    display: flex;
    gap: get_vw(90, $w_pc);
    margin-bottom: get_vw(100, $w_pc);
    &-txt {
        width: get_vw(585, $w_pc);
        &__title {
            font-family: YuGothic;
            font-weight: bold;
            font-size: calc_fz(36, $w_pc);
            letter-spacing: 0.02em;
            line-height: calc(50 / 36);
            margin-bottom: get_vw(50, $w_pc);

            span {
                font-family: "Helvetica Neue";
                font-weight: 500;
                font-size: calc_fz(14, $w_pc);
                line-height: calc(20 / 14);
                text-align: left;
                color: $color_gray;
                display: block;
                margin-bottom: get_vw(21, $w_pc);
            }
        }
        &__txt {
            font-family: YuGothic;
            font-weight: 500;
            font-size: calc_fz(15, $w_pc);
            letter-spacing: 0.04em;
            line-height: calc(35 / 15);
            text-align: left;
            color: $color_gray;
        }
    }
    &-img {
        width: get_vw(638, $w_pc);
    }
    &:nth-of-type(even) {
        justify-content: flex-end;
    }
}

.footer {
    background: rgba(black, 0.2);
}

.article {
    background: white;
    border: 1px solid rgba(black, 0.2);
    padding: 0.5em;
    margin-bottom: 1em;
    display: flex;
    gap: 1em;

    &__pic {
        width: 40%;
    }
    &__cont {
        width: 60%;
    }

    &__meta {
        display: flex;
        gap: 0.5em;
    }
    &__tag {
        display: flex;
        gap: 0.5em;
    }
}
.wp-pagenavi {
    text-align: center;
}
.aside {
    margin-bottom: 2em;
    &__title {
        font-weight: bold;
        border-bottom: 2px solid $color_black;
        margin-bottom: 1em;
        padding-bottom: 0.5em;
    }
    &__link {
        &.current {
            color: $color_green;
        }
        &::before {
            content: ">";
            margin-right: 0.2em;
            color: $color_green;
        }
    }
    &__list {
        li {
            &.current-cat {
                a {
                    color: $color_green;
                }
            }
            &::before {
                content: ">";
                margin-right: 0.2em;
                color: $color_green;
                @include replace(".aside__list", ".aside__list.bnr") {
                    content: none;
                }
                @include replace(".aside__list", ".aside__list.tags") {
                    content: none;
                }
            }
            @include replace(".aside__list", ".tags") {
                display: inline-block;
                margin-right: 0.2em;
                background: #fff;
            }
        }
    }
    .wpp-list {
        counter-reset: ranking;
        li {
            display: flex;
            border: solid 1px rgba(black, 0.2);
            margin-bottom: 0.5em;

            & > a {
                width: 20%;
            }
            h3 {
                width: 75%;
            }
            & > a {
                &::before {
                    counter-increment: ranking;
                    content: counter(ranking);
                    position: absolute;
                    background: $color_green;
                    width: 25px;
                    height: 25px;
                    text-align: center;
                    color: white;
                }
            }
        }
    }
}

.archive {
    &-top {
        background: rgba(orange, 0.3);
        padding: 2em;
        margin-bottom: 2em;
        &__title {
            color: $color_green;
            margin-bottom: 1em;
            & + p {
                margin-bottom: 1em;
            }
        }
        &-serch {
            &__title {
                font-weight: bold;
                margin-bottom: 0.5em;
            }
            &__form {
                .postform {
                    display: none;
                }
            }
        }
    }
}

.single {
    .article {
        display: block;
        padding: 2em;
        @include replace(".article", ".relation .article") {
            display: flex;
        }
        &__title {
            margin-bottom: 1em;
        }
        &__meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2em;
            .post-categories {
                li {
                    a {
                        color: $color_green;
                    }
                }
            }
            time {
                color: rgba($color_black, 0.5);
            }
        }
        &__img {
            margin-bottom: 1em;
        }
        &__summary {
            margin-bottom: 2em;
        }
        &__content {
            margin-bottom: 3em;
            h2 {
                border-left: 3px solid $color_green;
                padding: 0.5em 1em;
                margin: 2em 0;
            }
            h3 {
                border-bottom: 2px solid $color_green;
                margin: 1.5em 0;
            }
            p {
                margin-bottom: 1em;
            }
        }
    }
    .author {
        background: white;
        padding: 1em;
        margin-bottom: 3em;
        &__title {
            color: $color_green;
        }
        &__cont {
            display: flex;
            @include mq() {
                flex-direction: column;
            }
        }
        &__img {
            width: 20%;
            @include mq() {
                margin: auto;
            }
        }
        &__txt {
            width: 80%;
            @include mq() {
                width: 100%;
            }
        }
        &__name {
            margin-bottom: 1em;
            span {
                font-size: 0.8em;
                color: rgba($color_black, 0.5);
            }
            @include mq() {
                text-align: center;
            }
        }
    }
    .bnr {
        margin-bottom: 3em;
    }
    .relation {
        &__title {
            color: $color_green;
            border-bottom: $color_green solid 2px;
            padding-bottom: 0.5em;
            margin-bottom: 1em;
        }
        &__tags {
            margin-bottom: 2em;
        }
    }
    //------------
    // 目次
    //------------
    #ez-toc-container {
        width: 100%;
        border: none;
        padding: 1em;
        margin-bottom: 3em;

        .ez-toc-title-container {
            margin-bottom: 1em;
        }

        .ez-toc-title {
            &::before {
                content: "";
                display: inline-block;
                width: 1em;
                height: 1em;
                background: url("../img/icon_list.svg") no-repeat;
                vertical-align: text-top;
            }
        }
    }
}
